CREATE DATABASE Bibliotheque;
USE Bibliotheque;


CREATE TABLE Utilisateurs (
    id_utilisateur INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(100) NOT NULL,
    prenom VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    date_inscription DATE NOT NULL,
    image_url VARCHAR(255) 
);


CREATE TABLE Categories (
    id_categorie INT AUTO_INCREMENT PRIMARY KEY,
    nom_categorie VARCHAR(100) NOT NULL,
    prix DECIMAL(10,2) NOT NULL 
);


CREATE TABLE Auteurs (
    id_auteur INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(100) NOT NULL,
    nationalite VARCHAR(100),
    image_url VARCHAR(255) 
);


CREATE TABLE Livres (
    id_livre INT AUTO_INCREMENT PRIMARY KEY,
    titre VARCHAR(200) NOT NULL,
    id_auteur INT,
    id_categorie INT,
    annee_publication INT,
    image_url VARCHAR(255), 
    FOREIGN KEY (id_auteur) REFERENCES Auteurs(id_auteur) ON DELETE SET NULL,
    FOREIGN KEY (id_categorie) REFERENCES Categories(id_categorie) ON DELETE SET NULL
);


CREATE TABLE Emprunts (
    id_emprunt INT AUTO_INCREMENT PRIMARY KEY,
    id_utilisateur INT,
    id_livre INT,
    date_emprunt DATE NOT NULL,
    date_retour_prevu DATE NOT NULL,
    FOREIGN KEY (id_utilisateur) REFERENCES Utilisateurs(id_utilisateur) ON DELETE CASCADE,
    FOREIGN KEY (id_livre) REFERENCES Livres(id_livre) ON DELETE CASCADE
);


INSERT INTO Utilisateurs (nom, prenom, email, date_inscription) VALUES
('Bernard', 'Lucas', 'lucas.bernard@example.com', '2022-03-11'),
('Dubois', 'Emma', 'emma.dubois@example.com', '2024-05-14'),
('Lefevre', 'Thomas', 'thomas.lefevre@example.com', '2024-08-06'),
('Morel', 'Léa', 'léa.morel@example.com', '2022-07-08'),
('Martin', 'Hugo', 'hugo.martin@example.com', '2022-12-19'),
('Laurent', 'Manon', 'manon.laurent@example.com', '2023-05-09'),
('Robert', 'Nathan', 'nathan.robert@example.com', '2023-08-11'),
('Richard', 'Camille', 'camille.richard@example.com', '2022-04-02'),
('Girard', 'Alexandre', 'alexandre.girard@example.com', '2022-03-12'),
('Fontaine', 'Sarah', 'sarah.fontaine@example.com', '2023-11-19'),
('Lambert', 'Maxime', 'maxime.lambert@example.com', '2022-07-28'),
('Dupont', 'Chloé', 'chloé.dupont@example.com', '2023-07-12'),
('Rousseau', 'Julien', 'julien.rousseau@example.com', '2023-08-17'),
('Garnier', 'Pauline', 'pauline.garnier@example.com', '2023-12-04'),
('Marchand', 'Théo', 'théo.marchand@example.com', '2023-06-11'),
('Durand', 'Anaïs', 'anaïs.durand@example.com', '2024-06-05'),
('Blanchard', 'Valentin', 'valentin.blanchard@example.com', '2023-01-04'),
('Simon', 'Clara', 'clara.simon@example.com', '2023-01-02'),
('Pelletier', 'Louis', 'louis.pelletier@example.com', '2023-10-29'),
('Chevalier', 'Eva', 'eva.chevalier@example.com', '2022-11-24'),
('Perrin', 'Mathieu', 'mathieu.perrin@example.com', '2024-09-25'),
('Moulin', 'Jade', 'jade.moulin@example.com', '2023-07-05'),
('Lefort', 'Antoine', 'antoine.lefort@example.com', '2022-10-01'),
('Faure', 'Élise', 'élise.faure@example.com', '2024-12-15'),
('Vidal', 'Romain', 'romain.vidal@example.com', '2022-08-04'),
('Mercier', 'Sophie', 'sophie.mercier@example.com', '2022-07-09'),
('Caron', 'Bastien', 'bastien.caron@example.com', '2024-02-26'),
('François', 'Laura', 'laura.françois@example.com', '2024-05-03'),
('Lemoine', 'Benjamin', 'benjamin.lemoine@example.com', '2023-09-14'),
('Dupuis', 'Marine', 'marine.dupuis@example.com', '2022-03-31'),
('Gauthier', 'Victor', 'victor.gauthier@example.com', '2024-04-22'),
('Bourgeois', 'Céline', 'céline.bourgeois@example.com', '2023-10-13'),
('Chauvet', 'Sébastien', 'sébastien.chauvet@example.com', '2024-11-15'),
('Leroy', 'Marion', 'marion.leroy@example.com', '2024-08-05'),
('Noël', 'Damien', 'damien.noël@example.com', '2022-06-03'),
('Deschamps', 'Amandine', 'amandine.deschamps@example.com', '2022-07-09'),
('Bonnet', 'Quentin', 'quentin.bonnet@example.com', '2022-02-12'),
('Rémy', 'Mélanie', 'mélanie.rémy@example.com', '2024-03-19'),
('Voisin', 'Adrien', 'adrien.voisin@example.com', '2024-03-27'),
('Besson', 'Noémie', 'noémie.besson@example.com', '2024-08-19'),
('Millet', 'Florian', 'florian.millet@example.com', '2023-02-14'),
('Colin', 'Audrey', 'audrey.colin@example.com', '2022-03-29'),
('Perrot', 'Kevin', 'kevin.perrot@example.com', '2023-11-02'),
('Regnier', 'Stéphanie', 'stéphanie.regnier@example.com', '2024-08-23'),
('Joly', 'Guillaume', 'guillaume.joly@example.com', '2022-12-27'),
('Charpentier', 'Vanessa', 'vanessa.charpentier@example.com', '2024-02-07'),
('Rolland', 'Nicolas', 'nicolas.rolland@example.com', '2024-05-27'),
('Duhamel', 'Élodie', 'élodie.duhamel@example.com', '2022-11-28'),
('Gaillard', 'Jérôme', 'jérôme.gaillard@example.com', '2023-02-27'),
('Barbier', 'Caroline', 'caroline.barbier@example.com', '2022-09-13');

INSERT INTO Auteurs (nom, prenom) VALUES
('Oda', 'Eiichiro'),
('Kishimoto', 'Masashi'),
('Isayama', 'Hajime'),
('Horikoshi', 'Kohei'),
('Toriyama', 'Akira'),
('Ohba', 'Tsugumi'),
('Arakawa', 'Hiromu'),
('Ishida', 'Sui'),
('Gotouge', 'Koyoharu'),
('Togashi', 'Yoshihiro'),
('Hugo', 'Victor'),
('Orwell', 'George'),
('Austen', 'Jane'),
('Melville', 'Herman'),
('Fitzgerald', 'F. Scott'),
('Cervantes', 'Miguel de'),
('Salinger', 'J.D.'),
('Tolstoy', 'Leo'),
('Dostoevsky', 'Fyodor'),
('Homer', 'Inconnu'),
('Herbert', 'Frank'),
('Gibson', 'William'),
('Le Guin', 'Ursula K.'),
('Bradbury', 'Ray'),
('Card', 'Orson Scott'),
('Collins', 'Suzanne'),
('Weir', 'Andy'),
('Stephenson', 'Neal'),
('Haldeman', 'Joe'),
('Asimov', 'Isaac'),
('Frank', 'Anne'),
('Isaacson', 'Walter'),
('Mandela', 'Nelson'),
('Obama', 'Michelle'), 
('Gandhi', 'Mahatma'),
('Shakespeare', 'William'),
('Wilde', 'Oscar'),
('Beckett', 'Samuel'),
('Williams', 'Tennessee'),
('Miller', 'Arthur');

INSERT INTO Categories (nom_categorie, prix) VALUES
('Mangas', 5.99),
('Romans', 7.99),
('Sciences Fictions', 6.99),
('Biographies', 8.99),
('Pièces de Théâtres', 9.99);

INSERT INTO Livres (titre, id_auteur, id_categorie) VALUES
('One Piece', 1, 1),
('Naruto', 2, 1),
('Attack on Titan', 3, 1),
('My Hero Academia', 4, 1),
('Dragon Ball', 5, 1),
('Death Note', 6, 1),
('Fullmetal Alchemist', 7, 1),
('Tokyo Ghoul', 8, 1),
('Demon Slayer', 9, 1),
('Hunter x Hunter', 10, 1),
('Les Misérables', 11, 2),
('1984', 12, 2),
('Pride and Prejudice', 13, 2),
('Moby-Dick', 14, 2),
('The Great Gatsby', 15, 2),
('Don Quixote', 16, 2),
('The Catcher in the Rye', 17, 2),
('War and Peace', 18, 2),
('Crime and Punishment', 19, 2),
('The Odyssey', 20, 2),
('Dune', 21, 3),
('Neuromancer', 22, 3),
('The Left Hand of Darkness', 23, 3),
('Fahrenheit 451', 24, 3),
('Enders Game', 25, 3),
('The Hunger Games', 26, 3),
('The Martian', 27, 3),
('Snow Crash', 28, 3),
('The Forever War', 29, 3),
('Foundation', 30, 3),
('The Diary of a Young Girl', 31, 4),
('Steve Jobs', 32, 4),
('Long Walk to Freedom', 33, 4),
('Becoming', 34, 4),
('The Story of My Experiments with Truth', 35, 4),
('Hamlet', 36, 5),
('Romeo and Juliet', 36, 5),
('Macbeth', 36, 5),
('The Importance of Being Earnest', 37, 5),
('Waiting for Godot', 38, 5),
('A Streetcar Named Desire', 39, 5),
('Death of a Salesman', 40, 5),
('The Crucible', 40, 5),
('A Midsummer Nights Dream', 36, 5),
('The Glass Menagerie', 39, 5);

INSERT INTO Emprunts (id_utilisateur, id_livre, date_emprunt, date_retour_prevu) VALUES
(1, 5, '2022-04-15', '2022-04-22'),
(2, 12, '2022-05-10', '2022-05-17'),
(3, 7, '2022-06-01', '2022-06-08'),
(4, 20, '2022-07-12', '2022-07-19'),
(5, 3, '2022-08-03', '2022-08-10'),
(6, 15, '2022-09-14', '2022-09-21'),
(7, 8, '2022-10-05', '2022-10-12'),
(8, 10, '2022-11-18', '2022-11-25'),
(9, 2, '2022-12-09', '2022-12-16'),
(10, 18, '2023-01-22', '2023-01-29'),
(11, 6, '2023-02-11', '2023-02-18'),
(12, 14, '2023-03-04', '2023-03-11'),
(13, 9, '2023-04-17', '2023-04-24'),
(14, 4, '2023-05-08', '2023-05-15'),
(15, 11, '2023-06-20', '2023-06-27'),
(16, 1, '2023-07-13', '2023-07-20'),
(17, 16, '2023-08-02', '2023-08-09'),
(18, 19, '2023-09-15', '2023-09-22'),
(19, 13, '2023-10-06', '2023-10-13'),
(20, 17, '2023-11-19', '2023-11-26'),
(21, 5, '2023-12-26',NULL ),
(21, 5, '2023-12-10', '2023-12-17'),
(22, 12, '2024-01-23', '2024-01-30'),
(23, 7, '2024-02-14', NULL),
(24, 20, '2024-03-07', '2024-03-14'),
(25, 3, '2024-04-18', '2024-04-25'),
(26, 15, '2024-05-09', '2024-05-16'),
(27, 8, '2024-06-22', '2024-06-29'),
(28, 10, '2024-07-13', '2024-07-20'),
(29, 2, '2024-08-04', '2024-08-11'),
(30, 18, '2024-09-17', '2024-09-24'),
(31, 6, '2024-10-08', '2024-10-15'),
(32, 14, '2024-11-21', '2024-11-28'),
(33, 9, '2024-12-12', '2024-12-19'),
(34, 4, '2025-01-03', '2025-01-10'),
(35, 11, '2025-01-16', '2025-02-23'),
(36, 1, '2025-01-09', '2025-03-16'),
(37, 16, '2025-01-22', '2025-04-29'),
(38, 19, '2025-02-13', '2025-05-20'),
(39, 13, '2025-02-04', '2025-06-11'),
(40, 17, '2025-02-17', NULL);
